<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscription</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body class="d-flex flex-column vh-100">
    <%- include('header') %>
        <section class="container mt-5 d-flex justify-content-center flex-column align-items-center flex-grow-1">
            <h1>S'inscrire</h1>
            <form action="/register" method="POST"
                class="form-group mt-5 mb-5 border border-primary p-5 rounded shadow-lg d-flex flex-column align-items-center">
                <div class="mb-3">
                    <label for="pseudo" class="form-label">Pseudo</label>
                    <input type="text"
                        class="form-control <%= typeof errors !== 'undefined' && errors.length > 0 ? 'is-invalid' : '' %>"
                        id="pseudo" name="pseudo" value="<%= typeof pseudo !== 'undefined' ? pseudo : '' %>">

                    <div class="invalid-feedback">
                        <% if(errors && errors.length> 0) {
                            for(let err of errors) {
                            if(err.path=='pseudo'){%>
                            <%= err.msg %>
                                <%}}} %>
                    </div>
                </div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email"
                        class="form-control <%= typeof errors !== 'undefined' && errors.length > 0 ? 'is-invalid' : '' %>"
                        id="email" name="email" value="<%= typeof email !== 'undefined' ? email : '' %>">

                    <div class="invalid-feedback">
                        <% if(errors && errors.length> 0) {
                            for(let err of errors) {
                            if(err.path=='email'){%>
                            <%= err.msg %>
                                <%}}} %>
                    </div>
                </div>
                </div>
                <div class="input-group mb-3 mt-3 d-flex  flex-column text-left">
                    <div class="mb-3">
                        <label for="password" class="form-label">Mot de passe</label>
                        <input type="password"
                            class="form-control <%= typeof errors !== 'undefined' && errors.length > 0 ? 'is-invalid' : '' %>"
                            id="password" name="password">

                        <div class="invalid-feedback">
                            <% if(errors && errors.length> 0) {
                                for(let err of errors) {
                                if(err.path=='password'){%>
                                <%= err.msg %>
                                    <%}}} %>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirmer le mot de passe</label>
                    <input type="password"
                        class="form-control <%= typeof errors !== 'undefined' && errors.length > 0 ? 'is-invalid' : '' %>"
                        id="confirmPassword" name="confirmPassword"
                        value="<%= typeof confirmPassword !== 'undefined' ? confirmPassword : '' %>">
                    <div class="invalid-feedback">
                        <% if(errors && errors.length> 0) {
                            for(let err of errors) {
                            if(err.path=='confirmPassword'){%>
                            <%= err.msg %>
                                <%}}} %>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">S'inscrire</button>
            </form>
            <section class="mt-3">
                <div class="d-flex flex-row justify-content-center align-items-center ">
                    <p class="me-3">Vous avez un compte? </p>
                    <a href="/login" class="btn btn-success">Se connecter</a>
                </div>
            </section>
        </section>
        <%- include('footer') %>
</body>

</html>